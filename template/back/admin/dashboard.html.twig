{% extends "back/admin/layoutAdmin.html.twig" %}
{% block content %}
    <div class="px-5 pt-3 mb-3 col-9 mx-auto text-center">
        <p class="h4 my-4 text-info">
            {{ message }}
        </p>
        <h3 class="mb-5 text-uppercase">
            <span class="far fa-comments"></span>
            liste des commentaires en attente d'approbation :
        </h3>
        {% if status == true %}
            <div class="alert alert-{{ status }}">{{ statusMessage }}</div>
        {% endif %}
        <div class=" p-3 table-responsive rounded bg-blue shadow">
            <table class="h5 table mb-0">
                <thead class="text-secondary">
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">ArticleId</th>
                    <th scope="col">Approuvé</th>
                    <th scope="col">Auteur</th>
                    <th scope="col">Contenu</th>
                    <th scope="col">Dates</th>
                    <th scope="col">Modération</th>
                </tr>
                </thead>
                <tbody>
                {% for comment in comments %}
                    {% if comment.approved == 'non' %}
                        <tr>
                            <th scope="row">{{ comment.id }}</th>
                            <td class="bg-light text-secondary font-weight-bold">{{ comment.articleId }}</td>
                            <td class="bg-light text-success font-weight-bold">{{ comment.approved }}</td>
                            <td class="bg-light text-info font-weight-bold">{{ comment.author }}</td>
                            <td class="bg-light text-dark">{{ comment.content }}</td>
                            <td class="h6 bg-light text-dark font-italic">
                                <strong>Créé le :</strong>{{ comment.createdAt|date("m/d/Y à H:m:s") }}
                            </td>
                            <td>
                                <div class="row d-flex p-2 my-2 mx-auto">
                                    <a href="/article/see?articleId={{ comment.articleId }}"
                                       class="p-2 btn btn-primary">
                                        <span class="far fa-newspaper"></span>
                                        Voir l'article
                                    </a>
                                    <a href="/Admin/commentAdmin/edit?commentId={{ comment.id }}"
                                       class="p-2 btn btn-info">
                                        <span class="far fa-comment-dots"></span>
                                        Éditer
                                    </a>
                                </div>
                            </td>
                        </tr>
                    {% endif %}
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}
