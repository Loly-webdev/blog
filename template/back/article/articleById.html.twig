{% extends "back/layoutBack.html.twig" %}
{% block content %}
    <article class="p-3 mt-5 rounded">
        <h2>{{ title }}</h2>
        <h4>
            <span class="text-secondary font-italic">Auteur :</span>
            {{ article.author }}
        </h4>
        <article class="p-2 mt-3 text-secondary font-italic">
            <span class="font-weight-bold">Créer le : </span>{{ article.createdAt }}<br>
            <span class="font-weight-bold">Dernière mise à jour : </span>{{ article.updatedAt }}
        </article>
        <article class="p-2 mt-3 mb-0 bg-light text-dark font-weight-bold rounded-top">
            <p class="mb-0">
                {{ article.hat }}
            </p>
        </article>
        <article class="p-3 mb-3 bg-white text-dark rounded-bottom">
            <p class="mb-0">
                {{ article.content }}
            </p>
        </article>
        <div class="row p-2 my-4 mx-auto w-75 border-right-0 border-left-0 border border-primary">
            <a class="col md-6" href="/article/edit?articleId={{ article.id }}">
                <span class="fas fa-edit"></span>
                Éditer
            </a>
            <a class="col md-6" href="/article/delete?articleId={{ article.id }}">
                <span class="fas fa-trash-alt"></span>
                Supprimer
            </a>
        </div>
    </article>
    <hr>
    {% if comments %}
        <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
            <div class="panel panel-default">
                <div class="panel-heading p-2 mt-3 mb-0 mx-auto  bg-light text-dark font-weight-bold rounded-pill"
                     role="tab" id="headingOne">
                    <h4 class="panel-title">
                        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne"
                           aria-expanded="true" aria-controls="collapseOne">
                            <span class="fas fa-angle-double-down"></span>
                            Voir les commentaires
                            <span class="fas fa-angle-double-down"></span>
                        </a>
                    </h4>
                </div>
                <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                    <div class="panel-body">
                        {% for comment in comments %}
                            <article class="p-3 rounded">
                                <h4>
                                    <span class="text-secondary font-italic">Auteur : </span>
                                    {{ comment.author }}
                                </h4>
                                <article class="p-2 mt-3 text-secondary font-italic">
                                    <span class="font-weight-bold">Créer le : </span>{{ comment.createdAt }}<br>
                                    <span class="font-weight-bold">Dernière mise à jour : </span>{{ comment.updatedAt }}
                                </article>
                                <article class="p-3 mb-3 bg-white text-dark rounded">
                                    <p class="mb-0">
                                        {{ comment.content }}
                                    </p>
                                </article>
                                <div class="p-2 my-4 mx-auto w-50 border-right-0 border-left-0 border border-primary">
                                    <a href="/comment/see?commentId={{ comment.id }}">
                                        Voir le commentaire
                                        <span class="fas fa-angle-double-right"></span>
                                    </a>
                                </div>
                            </article>
                            <br>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
    <div class="p-2 my-4 mx-auto w-50 border-right-0 border-left-0 border border-secondary">
        <a href="/comment/add?articleId={{ article.id }}">
            <span class="fas fa-plus-circle"></span>
            Ajouter un nouveau commetaire</a>
    </div>
    <div class="p-2 my-4 mx-auto w-50 border-right-0 border-left-0 border border-secondary">
        <span class="fas fa-angle-double-left"></span>
        <a href="/article">Retour à la liste des billets</a>
    </div>
{% endblock %}
