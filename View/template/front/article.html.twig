{% extends "template/base.html.twig" %}

{% block title %}
    {{ post['title'] }}
{% endblock %}

{% block content %}

    <h1>Mon Blog !</h1>
    <p><a href="/blog">Retour Ã  la liste des billets</a></p>

    <div class="news">
        <h3>
            {% block postTitle %}
                {{ post['title'] }}
            {% endblock %}

            {% block dateTitle %}
                <em>le {{ post['creation_date_fr'] }}</em>
            {% endblock %}
        </h3>

        <p>
            {% block postContent %}
                {{ post['content'] }}
            {% endblock %}
        </p>
    </div>

    <h2>Commentaires</h2>

    {% block form %}
        <form action="{{ post['id'] }}" method="post">
            <div>
                <label for="author">Auteur</label><br/>
                <input type="text" id="author" name="author"/>
            </div>
            <div>
                <label for="comment">Commentaire</label><br/>
                <textarea id="comment" name="comment"></textarea>
            </div>
            <div>
                <input type="submit"/>
            </div>
        </form>
    {% endblock %}

    {% for comment in comments %}
        <p><strong>{{ comment['author'] }}</strong> le {{ comment['comment_date'] }}</p>
        <p>{{ comment['comment'] }}</p>
    {% endfor %}

    <h2>Commentaires</h2>

    {% block formComments %}
        <form action="{{ post['id'] }}" method="post">
            <div>
                <label for="author">Auteur</label><br/>
                <input type="text" id="author" name="author"/>
            </div>
            <div>
                <label for="comment">Commentaire</label><br/>
                <textarea id="comment" name="comment"></textarea>
            </div>
            <div>
                <input type="submit"/>
            </div>
        </form>
    {% endblock %}

{% endblock %}